<button type="button" id="btn">press me</button>

<script type="module">
  import {from, of, pipe, debug} from "rxjs";
  import {map, filter, tap,} from "rxjs/operators";


  const test = from([3, 5, 8, 9, 24]);

  const debugSource$ = $D(test);

  const stack = [];

  test.pipe(
    // tap(function (x) {
    //   stack.push(this.constructor.name)
    // }),

    map(function (x) {
      // stack.push(this.constructor.name)
      return x % 2 === 0
    }),

    tap(function (x) {
      // stack.push(this.constructor.name);
      return console.log(this, "tap1 " + x)
    }),

    filter(function (x) {
      stack.push(this)
      return x === true
    }),

    tap(function (x) {
      // stack.push(this.constructor.name)
    }),


  ).subscribe(function (val) {
    console.log(val)
  })console.log("subscribe " + val)
  });


</script>